---
//src/pages/projects.astro
import projectData from '../../projectData.json';
import Layout from '../layouts/Layout.astro';
import ProjectTable from '../components/ProjectTable.jsx';

// Base URL for project pages - adjust this to match your routing structure
const projectBaseUrl = '/projects/';
---

<Layout currentPage="projects">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header Section -->
            <div class="mb-8">
                <h1 class="text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
                    Project Database
                </h1>
                <p class="text-lg text-gray-600 dark:text-gray-400 mb-2">
                    A comprehensive overview of all projects and their details
                </p>
                <div class="flex items-center gap-4 text-sm text-gray-500 dark:text-gray-500">
                    <span class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded">
                        {projectData.length} Total Projects
                    </span>
                    <span class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded">
                        {projectData.filter(p => p.category === 'code').length} Code Projects
                    </span>
                    <span class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-2 py-1 rounded">
                        {projectData.filter(p => p.category === 'cad').length} CAD Projects
                    </span>
                </div>
            </div>
            <!-- Interactive Table Component -->
            <ProjectTable client:load projectData={projectData} projectBaseUrl={projectBaseUrl} />
        </div>
    </div>
</Layout>
